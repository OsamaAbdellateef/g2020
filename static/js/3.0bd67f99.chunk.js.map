{"version":3,"sources":["../node_modules/react-bootstrap/esm/DropdownButton.js","components/request-form/reques-form.component.js","components/static-rate/static-rate.component.js","components/craft-card/craft-card.component.js"],"names":["propTypes","id","PropTypes","any","href","string","onClick","func","title","node","isRequired","disabled","bool","menuRole","rootCloseEvent","bsPrefix","variant","size","DropdownButton","React","forwardRef","_ref","ref","children","props","_objectWithoutPropertiesLoose","createElement","Dropdown","_extends","Toggle","childBsPrefix","Menu","role","displayName","connect","currentUser","user","craft","crafterID","useState","open","setOpen","nameValue","setName","phoneNumberValue","setPhoneNumber","addressValue","setAddress","requested","setRequest","requests","setRequests","Date","useEffect","arr","unsubscribe","firestore","collection","onSnapshot","querySnapshot","forEach","doc","console","log","data","push","checkRequests","request","userID","handleClose","clearStates","firebase","deleteRequest","a","get","then","usersRef","docs","map","requestID","delete","catch","error","className","Item","Button","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","TextField","autoFocus","margin","label","type","fullWidth","onChange","e","target","value","DialogActions","myFirebaseFirestoreTimestampFromDate","Timestamp","fromDate","nid","Math","random","toString","substr","set","clientName","phoneNumber","address","createdAt","crafterName","accepted","done","ratings","setRatings","totalRate","setTotalRate","where","total","count","rate","Box","component","mb","borderColor","Rating","name","readOnly","imageCraftURL","imagePersonalURL","src","icon","faUser","transform","color","faPhone","faTools","faAddressCard"],"mappings":"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","file":"static/js/3.0bd67f99.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Dropdown from './Dropdown';\nvar propTypes = {\n  /**\n   * An html id attribute for the Toggle button, necessary for assistive technologies, such as screen readers.\n   * @type {string|number}\n   * @required\n   */\n  id: PropTypes.any,\n\n  /** An `href` passed to the Toggle component */\n  href: PropTypes.string,\n\n  /** An `onClick` handler passed to the Toggle component */\n  onClick: PropTypes.func,\n\n  /** The content of the non-toggle Button.  */\n  title: PropTypes.node.isRequired,\n\n  /** Disables both Buttons  */\n  disabled: PropTypes.bool,\n\n  /** An ARIA accessible role applied to the Menu component. When set to 'menu', The dropdown */\n  menuRole: PropTypes.string,\n\n  /**\n   *  Which event when fired outside the component will cause it to be closed.\n   *\n   * _see [DropdownMenu](#menu-props) for more details_\n   */\n  rootCloseEvent: PropTypes.string,\n\n  /** @ignore */\n  bsPrefix: PropTypes.string,\n\n  /** @ignore */\n  variant: PropTypes.string,\n\n  /** @ignore */\n  size: PropTypes.string\n};\n/**\n * A convenience component for simple or general use dropdowns. Renders a `Button` toggle and all `children`\n * are passed directly to the default `Dropdown.Menu`.\n *\n * _All unknown props are passed through to the `Dropdown` component._ Only\n * the Button `variant`, `size` and `bsPrefix` props are passed to the toggle,\n * along with menu related props are passed to the `Dropdown.Menu`\n */\n\nvar DropdownButton = React.forwardRef(function (_ref, ref) {\n  var title = _ref.title,\n      children = _ref.children,\n      bsPrefix = _ref.bsPrefix,\n      rootCloseEvent = _ref.rootCloseEvent,\n      variant = _ref.variant,\n      size = _ref.size,\n      menuRole = _ref.menuRole,\n      disabled = _ref.disabled,\n      href = _ref.href,\n      id = _ref.id,\n      props = _objectWithoutPropertiesLoose(_ref, [\"title\", \"children\", \"bsPrefix\", \"rootCloseEvent\", \"variant\", \"size\", \"menuRole\", \"disabled\", \"href\", \"id\"]);\n\n  return React.createElement(Dropdown, _extends({\n    ref: ref\n  }, props), React.createElement(Dropdown.Toggle, {\n    id: id,\n    href: href,\n    size: size,\n    variant: variant,\n    disabled: disabled,\n    childBsPrefix: bsPrefix\n  }, title), React.createElement(Dropdown.Menu, {\n    role: menuRole,\n    rootCloseEvent: rootCloseEvent\n  }, children));\n});\nDropdownButton.displayName = 'DropdownButton';\nDropdownButton.propTypes = propTypes;\nexport default DropdownButton;","import React, { useState ,useEffect } from 'react';\r\n//import Button from '@material-ui/core/Button';\r\nimport { Button ,DropdownButton ,Dropdown} from 'react-bootstrap';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { connect } from 'react-redux';\r\nimport './request-form.style.scss';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\n\r\nconst RequestForm = ({ currentUser,craft, crafterID ,displayName}) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [nameValue, setName] = useState(\"\");\r\n  const [phoneNumberValue, setPhoneNumber] = useState(\"\");\r\n  const [addressValue, setAddress] = useState(\"\");\r\n  const [requested , setRequest] = useState(false);\r\n  const [requests , setRequests] = useState([]);\r\n  const today = new Date();\r\n\r\n  const getReq = async() => {\r\n    var  usersRef = await firestore.collection(\"requests\").get().then(console.log(\"hello there \"));\r\n    var recievedRequests = usersRef.docs.map(doc => doc.data());\r\n    setRequests(recievedRequests)\r\n\r\n  }\r\n  \r\n  useEffect( () => {\r\n   // getReq();\r\n    var arr;\r\n       const unsubscribe = firestore.collection(\"requests\").onSnapshot(querySnapshot => {\r\n        arr=[];\r\n        querySnapshot.forEach(doc => {\r\n            console.log(\"new post : \" , doc.data());\r\n              \r\n            arr.push(doc.data());           \r\n        }) \r\n        setRequests(arr)\r\n       })\r\n  \r\n\r\n        return function cleanUp() {\r\n         unsubscribe();\r\n        }\r\n    \r\n  },[]);\r\n\r\nuseEffect(() => {\r\n  checkRequests();\r\n},[requests])\r\n\r\n  const checkRequests = () => {\r\n    requests.forEach(request => {\r\n      if(currentUser.userID == request.userID && crafterID == request.crafterID) {\r\n        console.log('you have made this request ');\r\n        setRequest(true)\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n    console.log(crafterID)\r\n  };\r\n\r\n  const handleClose = () => {\r\n    clearStates();\r\n    setOpen(false);\r\n  };\r\n\r\n  const firestore = firebase.firestore();\r\n\r\n  //sending request to firebase \r\n\r\n  const clearStates = () => {\r\n    setName(\"\");\r\n    setAddress(\"\");\r\n    setPhoneNumber(\"\")\r\n  }\r\n\r\n  const addRequest = () => {\r\n\r\n    var myFirebaseFirestoreTimestampFromDate = firebase.firestore.Timestamp.fromDate(new Date())\r\n\r\n\r\n    var nid = Math.random().toString(36).substr(2, 9);\r\n\r\n\r\n    firestore.collection(\"requests\").doc(`${nid}`).set({\r\n      clientName: `${nameValue}`,\r\n      userID: `${currentUser.userID}`,\r\n      phoneNumber: `${phoneNumberValue}`,\r\n      address: addressValue,\r\n      createdAt: myFirebaseFirestoreTimestampFromDate,\r\n      crafterID: `${crafterID}`,\r\n      requestID:`${nid}`,\r\n      crafterName: `${displayName}`,\r\n      craft: `${craft}`,\r\n      accepted:`${false}`,\r\n      done:'false'\r\n\r\n    })\r\n      .then(function () {\r\n        console.log(\"Document successfully written!\");\r\n        setAddress(\"\");\r\n        clearStates();\r\n        handleClose();\r\n        setRequest(true);\r\n      })\r\n      .catch(function (error) {\r\n        console.error(\"Error writing document: \", error);\r\n      });\r\n\r\n  }\r\n\r\n  const showTime  = async() => {\r\n    requests.forEach(request => {console.log(request)})\r\n  }\r\n\r\n  const deleteRequest = async(crafterID) => {\r\n\r\n    var  usersRef = await firestore.collection(\"requests\").get().then(console.log(\"hello there \"));\r\n    var requests = usersRef.docs.map(doc => doc.data());\r\n\r\n    requests.forEach(request => {\r\n      if(request.userID == currentUser.userID && crafterID == request.crafterID) {\r\n        firestore.collection('requests').doc(`${request.requestID}`).delete().then(() => {console.log('deleted successfully ');\r\n      setRequest(false)}).catch((error) => {console.log(error)});\r\n      }\r\n\r\n    })\r\n\r\n    // firestore.collection('requests').doc(`${reqID}`).delete().\r\n    // then(() => {console.log(\"hase been deleted successfully \")}).catch((error)=>{console.log(error)});\r\n\r\n  }\r\n\r\n  return (\r\n\r\n    <div>\r\n      {requested ? (<div className=\"special-case\">\r\n      <DropdownButton variant=\"success\" id=\"dropdown-basic-button\" title=\"تم الطلب بنجاح \">\r\n      <Dropdown.Item onClick={() => {deleteRequest(crafterID)}}>الغاء الطلب </Dropdown.Item>\r\n  </DropdownButton>\r\n      </div> ) : (<Button   onClick={handleClickOpen}>\r\n         اطلب الآن \r\n      </Button>)}\r\n      \r\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">ارسال طلب </DialogTitle>\r\n        <DialogContent>\r\n\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"name\"\r\n            label=\" الاسم كاملا\"\r\n            type=\"text\"\r\n            fullWidth\r\n            onChange={(e) => { setName(e.target.value) }}\r\n          />\r\n          <TextField\r\n\r\n            margin=\"dense\"\r\n            id=\"address\"\r\n            label=\"العنوان بالتفصيل\"\r\n            type=\"address\"\r\n            fullWidth\r\n            onChange={(e) => { setAddress(e.target.value) }}\r\n          />\r\n          <TextField\r\n            margin=\"dense\"\r\n            id=\"pn\"\r\n            label=\"رقم الهاتف\"\r\n            type=\"tel\"\r\n            fullWidth\r\n            onChange={(e) => { setPhoneNumber(e.target.value) }}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button className=\"mr-0 ml-2\" disabled={!(nameValue && phoneNumberValue && addressValue)} onClick={addRequest}>ارسال</Button>\r\n          <Button variant=\"danger\" onClick={handleClose}>اغلاق </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n\r\n}\r\nconst mapStateToProps = ({ user }) => ({\r\n  currentUser: user.currentUser\r\n})\r\n\r\nexport default connect(mapStateToProps)(RequestForm)","import React from 'react';\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport './static-rate.style.scss';\r\nimport { connect } from 'react-redux';\r\nconst firestore = firebase.firestore();\r\n\r\nconst SimpleRating = ({ currentUser, crafterID }) => {\r\n    let mounted = false;\r\n    const [value, setValue] = React.useState(5);\r\n    const [ratings, setRatings] = React.useState([]);\r\n    const [totalRate, setTotalRate] = React.useState(0);\r\n    \r\n\r\n\r\n    React.useEffect(() => {\r\n\r\n      var arr;\r\n       const unsubscribe = firestore.collection(\"ratings\").where(\"crafterID\" , \"==\" , `${crafterID}`).onSnapshot(querySnapshot => {\r\n        arr=[];\r\n        querySnapshot.forEach(doc => {\r\n            console.log(\"new post : \" , doc.data());\r\n              \r\n            arr.push(doc.data());           \r\n        }) \r\n        setRatings(arr);\r\n        var total = 0;\r\n\r\n        \r\n        setTotalRate(total)\r\n       })\r\n  \r\n\r\n        return function cleanUp() {\r\n         unsubscribe();\r\n        }\r\n    }, [])\r\n\r\n    React.useEffect(() => {\r\n        var total = 0;\r\n        let count = 0;\r\n        ratings.forEach(rate => {\r\n            console.log(\"******************* rate.value\" , rate.value)\r\n            total+=rate.value;\r\n            count+=1\r\n        })\r\n        setTotalRate(total/count);\r\n    },[ratings])\r\n\r\n    return (\r\n        <div>\r\n            <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\r\n                <Rating name=\"read-only\" value={totalRate} readOnly />\r\n\r\n            </Box>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = ({ user }) => ({\r\n    currentUser: user.currentUser\r\n})\r\n\r\nexport default connect(mapStateToProps)(SimpleRating)","import React, { useState, useEffect } from 'react';\r\nimport './craft-card.style.scss';\r\nimport { faUser, faTools, faAddressCard, faPhone, faCheckSquare, faCoffee } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport RequesForm from '../request-form/reques-form.component';\r\nimport firebase from 'firebase/app';\r\nimport { connect } from 'react-redux';\r\nimport 'firebase/firestore';\r\nimport SimpleRating from '../static-rate/static-rate.component'\r\n\r\n\r\n\r\nconst firestore = firebase.firestore();\r\n\r\nconst CraftCard = ({ currentUser, imageCraftURL, crafterID, imagePersonalURL, craft, displayName, address, userID, phoneNumber }) => {\r\n\r\n    return (\r\n        currentUser ? (\r\n            currentUser.userID !== crafterID ? (<div className=\"col-12 col-md-6 col-lg-3 mb-5 col craft-card\"   >\r\n            <div className=\"content\">\r\n                <div className=\"image-container\">\r\n                    <img src={`${imagePersonalURL}`} />\r\n                </div>\r\n                <div className=\"details\">\r\n                    <h5><FontAwesomeIcon icon={faUser} size=\"sm\" transform=\"left-4\" color=\"#3587D7\" />{displayName}</h5>\r\n                    <h5> <FontAwesomeIcon icon={faPhone} size=\"sm\" transform=\"left-4\" color=\"#3587D7\" /> {phoneNumber}</h5>\r\n                    <h5><FontAwesomeIcon icon={faTools} size=\"sm\" transform=\"left-4\" color=\"#3587D7\" />{craft}</h5>\r\n                    <h5><FontAwesomeIcon icon={faAddressCard} size=\"sm\" transform=\"left-4\" color=\"#3587D7\" />{address}</h5>\r\n\r\n                    <SimpleRating crafterID={crafterID} />\r\n                    <RequesForm crafterID={crafterID} craft={craft} displayName={displayName} />\r\n                </div>\r\n            </div>\r\n        </div>):(null)\r\n        ):(null)\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({ user }) => ({\r\n    currentUser: user.currentUser\r\n})\r\nexport default connect(mapStateToProps)(CraftCard);"],"sourceRoot":""}